# Тестовое задание `Простая библиотека`
## Требования
Для работы необходимо установить 
- `Docker` и `DockerCompose`
- Python 3.11(для локальной разработки)

## Запуск

- Скопировать код из репозитория и перейти в папку с кодом
- Установить перечень программ согласно разделу `Требования`
- Выполнить команду запуска:
```bash
 docker-compose -f prodenviroment/docker-compose.yml up
```
Swagger приложения будет доступен по адресу: http://0.0.0.0:8000/docs

Для начала работы необходимо зарегистрировать новго читателя по ссылке:
`/v1/reader/` методом `POST`.
В правом верхнем улгу ввести логин и пароль. Тогда станет доступен функционал по поиску книг и авторов.


## Разработка
### Запуск базы данных
```bash 
docker-compose -f devenvironment/docker-compose.yml up
```
### Запуск приложения
- Установить необходимые зависимости:
```bash
python3 -m pip install -r requirements.txt
```
- Применить миграции
```bash
cd src/db && PYTHONPATH='<FULL_PATH>/src' alembic upgrade head 
```
- Запустить приложение
```bash
python3 src/app.py
```

## ToDo
- Покрыть тестами
- Сделать нормальное применение миграции
- Переделать SQLAlchemy на асинхронный режим
- Добавит авторизацию для ручек `internal`
- Попробовать избавиться от циклической зависимости в моделях



